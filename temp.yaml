name: 'app'
type: 'nodejs:14'
variables:
    env:
        UPDATES_ENVIRONMENT: "files-ops"
        UPSTREAM_REMOTE: "https://github.com/gatsbyjs/gatsby-starter-blog.git" 
        UPSTREAM_TEMPLATE: "https://github.com/chadwcarlson/gatsby-updater.git"
dependencies:
    nodejs:
        yarn: "1.22.5"
    php:
        platformsh/cli: "3.68.0"
build:
    flavor: none
hooks:
    build: ./scripts/hooks-build.sh
web:
    locations:
        '/':
            root: 'public'
            index: ['index.html']
            scripts: false
            allow: true
source:
    operations:
        update-dependencies:
            command: .platform/source-operations/dependencies.sh
        update-infrastructure:
            command: .platform/source-operations/infrastructure.sh
        update-upstream:
            command: .platform/source-operations/upstream.sh
timezone: "America/New_York"
crons:
    update-dependencies:
        spec: '19 1 * * *'
        cmd: ./scripts/update-dependencies.sh
    update-upstream:
        spec: '11 1 * * 0'
        cmd: ./scripts/update-upstream.sh
